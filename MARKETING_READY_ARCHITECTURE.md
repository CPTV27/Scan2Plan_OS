# ğŸš€ SCAN2PLAN: MARKETING-READY ARCHITECTURE

**Business Context:**
- Pre-launch, preparing for marketing scale-up
- Marketing will significantly increase lead volume (10x+)
- Need to handle volume BEFORE turning on marketing tap
- Sales automation critical to prevent lead overflow

**Goal:** Build capacity now, ramp marketing later

---

## ğŸ“Š THE SCALING SCENARIO

### Phase 1: Pre-Launch (Now)
```
Leads: 5-10/week (manual outreach)
Quotes: 5-10/week
CEO capacity: Adequate
Marketing: Minimal
```

### Phase 2: Marketing Ramp (Month 2-3)
```
Leads: 50-100/week (SEO, content, ads)
Quotes needed: 50-100/week
CEO capacity: BOTTLENECK âš ï¸
Marketing: Active campaigns
```

### Phase 3: Scale (Month 4-6)
```
Leads: 200+/week (full marketing engine)
Quotes needed: 200+/week
CEO capacity: IMPOSSIBLE without automation âŒ
Marketing: Full scale
```

**Solution:** Build automation NOW, split marketing NOW

---

## ğŸ¯ TWO-APP ARCHITECTURE (Optimized for Marketing Scale)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              APP 1: SCAN2PLAN CORE (Revenue Engine)             â”‚
â”‚                     Main App (scan2plan.io)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ¯ HIGH-VOLUME SALES AUTOMATION                                â”‚
â”‚  â”œâ”€ Lead capture API (webhooks from marketing)                 â”‚
â”‚  â”œâ”€ AI lead qualification (score, filter, prioritize)          â”‚
â”‚  â”œâ”€ Auto-assignment to sales queue                             â”‚
â”‚  â”œâ”€ RFP analyzer (handle volume)                               â”‚
â”‚  â”œâ”€ AI quote suggestions (speed)                               â”‚
â”‚  â”œâ”€ One-click proposals (efficiency)                           â”‚
â”‚  â”œâ”€ Auto-follow-up sequences                                   â”‚
â”‚  â””â”€ Margin protection (scale safely)                           â”‚
â”‚                                                                  â”‚
â”‚  ğŸ­ PRODUCTION & DELIVERY                                       â”‚
â”‚  â”œâ”€ Production Kanban                                           â”‚
â”‚  â”œâ”€ Field operations                                            â”‚
â”‚  â”œâ”€ QC workflow                                                 â”‚
â”‚  â””â”€ Client delivery                                             â”‚
â”‚                                                                  â”‚
â”‚  ğŸ’° FINANCIAL                                                   â”‚
â”‚  â”œâ”€ QuickBooks integration                                      â”‚
â”‚  â”œâ”€ Invoicing & collections                                     â”‚
â”‚  â””â”€ Profitability tracking                                      â”‚
â”‚                                                                  â”‚
â”‚  ğŸ‘¥ Users: CEO, Sales Team, Production, Field Techs             â”‚
â”‚  Focus: Handle high lead volume efficiently                     â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          APP 2: SCAN2PLAN MARKETING HUB (Lead Generation)       â”‚
â”‚                   marketing.scan2plan.io                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  ğŸ“¢ LEAD GENERATION                                             â”‚
â”‚  â”œâ”€ Landing pages (SEO-optimized)                              â”‚
â”‚  â”œâ”€ Contact forms (auto-create leads in Core)                  â”‚
â”‚  â”œâ”€ RFP opportunity tracking                                    â”‚
â”‚  â”œâ”€ Lead magnets (whitepapers, calculators)                    â”‚
â”‚  â””â”€ Webinar registrations                                       â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“§ EMAIL MARKETING                                             â”‚
â”‚  â”œâ”€ Nurture sequences (for unqualified leads)                  â”‚
â”‚  â”œâ”€ Newsletter campaigns                                        â”‚
â”‚  â”œâ”€ Event promotions                                            â”‚
â”‚  â””â”€ Re-engagement campaigns                                     â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“Š CONTENT MARKETING                                           â”‚
â”‚  â”œâ”€ Blog/article management                                     â”‚
â”‚  â”œâ”€ Case study showcase                                         â”‚
â”‚  â”œâ”€ Social media scheduling (LinkedIn, Twitter)                â”‚
â”‚  â””â”€ Video content library                                       â”‚
â”‚                                                                  â”‚
â”‚  ğŸ¯ ABM (Account-Based Marketing)                               â”‚
â”‚  â”œâ”€ Target account lists                                        â”‚
â”‚  â”œâ”€ Personalized campaigns                                      â”‚
â”‚  â”œâ”€ Account research automation                                â”‚
â”‚  â””â”€ Multi-touch attribution                                     â”‚
â”‚                                                                  â”‚
â”‚  ğŸ“ˆ ANALYTICS & ATTRIBUTION                                     â”‚
â”‚  â”œâ”€ Lead source tracking                                        â”‚
â”‚  â”œâ”€ Campaign performance                                        â”‚
â”‚  â”œâ”€ ROI by channel                                              â”‚
â”‚  â”œâ”€ Conversion funnel analysis                                 â”‚
â”‚  â””â”€ Marketing â†’ Revenue attribution                             â”‚
â”‚                                                                  â”‚
â”‚  ğŸ¤– AI CONTENT GENERATION                                       â”‚
â”‚  â”œâ”€ Blog post generation                                        â”‚
â”‚  â”œâ”€ Social media content                                        â”‚
â”‚  â”œâ”€ Email copy suggestions                                      â”‚
â”‚  â””â”€ Case study drafting                                         â”‚
â”‚                                                                  â”‚
â”‚  ğŸ‘¥ Users: Marketing Team, Content Creators                     â”‚
â”‚  Focus: Generate qualified leads at scale                       â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â†“  â†‘
                    API Integration (REST)
                              â†“  â†‘

        Marketing generates leads â†’ Core converts to revenue
        Core provides deal data â†’ Marketing tracks attribution
```

---

## ğŸ”Œ INTEGRATION LAYER

### Marketing â†’ Core (Lead Creation)

```typescript
// Marketing app contact form submit:
async function submitContactForm(formData) {
  // Send to Core API
  const lead = await fetch('https://scan2plan.io/api/leads/from-marketing', {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${MARKETING_API_KEY}` },
    body: JSON.stringify({
      source: 'Website Contact Form',
      campaign: 'SEO - Office Buildings',
      clientName: formData.companyName,
      contactName: formData.name,
      contactEmail: formData.email,
      contactPhone: formData.phone,
      projectAddress: formData.address,
      sqft: formData.sqft,
      buildingType: formData.buildingType,
      message: formData.message,

      // Marketing attribution
      utmSource: formData.utmSource,
      utmMedium: formData.utmMedium,
      utmCampaign: formData.utmCampaign,
    }),
  });

  // Track in marketing system
  await trackLeadCreated({
    leadId: lead.id,
    campaign: 'SEO - Office Buildings',
    source: 'Website',
  });

  return lead;
}
```

### Core â†’ Marketing (Attribution Data)

```typescript
// Core app: When deal closes
async function onDealClosed(leadId: number) {
  // Update Core
  await db.update(leads).set({ dealStage: 'Closed Won' });

  // Send attribution to Marketing
  const lead = await getLead(leadId);
  await fetch('https://marketing.scan2plan.io/api/attribution', {
    method: 'POST',
    headers: { 'Authorization': `Bearer ${CORE_API_KEY}` },
    body: JSON.stringify({
      leadId: lead.id,
      dealValue: lead.value,
      closedDate: new Date(),
      source: lead.source,
      campaign: lead.campaign,
      utmData: lead.utmData,
    }),
  });
}
```

---

## ğŸš€ IMPLEMENTATION PLAN (Parallel Tracks)

### **Track A: Sales Automation** (Week 1-3)

**Owner:** Main development team
**Focus:** Handle high lead volume

#### Week 1: Lead Processing Automation
```
Day 1-2: Lead capture API
  - Webhook endpoints for marketing forms
  - Auto-create leads from email (Gmail integration)
  - CSV/bulk import for RFP lists

Day 3-5: AI Lead Qualification
  - Score leads (hot/warm/cold)
  - Auto-filter spam/unqualified
  - Prioritize high-value opportunities
  - Route to CEO queue
```

#### Week 2: Quote Automation
```
Day 1-3: RFP Analyzer
  - PDF upload â†’ Extract requirements
  - Auto-create lead + pre-fill CPQ
  - 2 hours â†’ 15 min per RFP

Day 4-5: AI Quote Suggestions
  - Analyze similar projects
  - Pre-fill CPQ with suggestions
  - 30 min â†’ 5 min per quote
```

#### Week 3: Proposal Automation
```
Day 1-2: One-click proposal generation
  - Quote â†’ PDF in 3 seconds
  - Auto-send via email
  - Signature tracking

Day 3-5: Follow-up Sequences
  - Auto-remind unsigned proposals
  - Stale deal detection
  - Payment reminders
```

**Deliverable:** CEO can handle 10x lead volume

---

### **Track B: Marketing App** (Week 1-3, parallel)

**Owner:** Marketing team or contractor
**Focus:** Lead generation at scale

#### Week 1: Marketing App Setup
```
Day 1-2: Next.js app setup
  - Basic structure
  - Database schema (marketing tables)
  - API integration with Core

Day 3-5: Landing Pages
  - Homepage (SEO-optimized)
  - Service pages (by building type)
  - Contact forms (webhook to Core)
  - Lead magnets (BIM calculator, etc.)
```

#### Week 2: Content Management
```
Day 1-3: Blog/Content System
  - Article management
  - SEO optimization
  - Case study showcase

Day 4-5: Email Sequences
  - Nurture campaign builder
  - Newsletter system
  - Event promotions
```

#### Week 3: Analytics & Attribution
```
Day 1-3: Tracking Setup
  - UTM tracking
  - Conversion pixels
  - Lead source attribution

Day 4-5: Dashboards
  - Campaign performance
  - Lead â†’ Deal tracking
  - ROI reporting
```

**Deliverable:** Marketing can generate leads independently

---

## ğŸ“Š CAPACITY PLANNING

### Current CEO Capacity (Without Automation)
```
Available time for sales: 20 hours/week
Time per lead: 30 min (research + quote)
Max leads/week: 40 leads

But realistically:
- 30% unqualified leads = waste 12 hours
- Actual qualified leads handled: 15-20/week
```

### With Sales Automation
```
Available time: 20 hours/week
AI filters leads: Only qualified leads in queue
Time per qualified lead: 5 min (AI pre-fills everything)
Max leads/week: 240 leads

Realistically:
- AI filters 100 leads â†’ 30 qualified
- CEO handles: 30 qualified leads/week
- Time spent: 2.5 hours (vs 20 hours without automation)
```

**Result:** 10x capacity with same effort

---

## ğŸ¯ MARKETING READINESS CHECKLIST

Before ramping marketing, verify these work:

### âœ… Sales Automation (Core App)
- [ ] Lead capture API (webhook from marketing forms)
- [ ] AI lead qualification (score, filter, prioritize)
- [ ] Auto-assignment to sales queue
- [ ] RFP analyzer (PDF â†’ quote in 15 min)
- [ ] AI quote suggestions (similar projects)
- [ ] One-click proposal generation
- [ ] Auto-send proposals + signature
- [ ] Follow-up sequences (stale deals, unsigned proposals)
- [ ] Margin protection (guardrails + override tracking)

### âœ… Marketing App
- [ ] Landing pages (SEO-optimized)
- [ ] Contact forms (auto-create leads in Core)
- [ ] UTM tracking (attribution)
- [ ] Email sequences (nurture campaigns)
- [ ] Blog/content management
- [ ] Case study showcase
- [ ] Analytics dashboard (lead â†’ revenue)

### âœ… Integration
- [ ] Marketing form â†’ Core lead (webhook works)
- [ ] Core deal closed â†’ Marketing attribution (tracking works)
- [ ] Shared authentication (SSO)
- [ ] API rate limiting (handle volume)

---

## ğŸ“ˆ EXPECTED OUTCOMES

### Month 1 (Build Phase)
```
Leads: 5-10/week (manual)
Quotes: 5-10/week
Marketing: Building app
Sales: Building automation
```

### Month 2 (Soft Launch)
```
Leads: 20-30/week (initial marketing)
Quotes: 20-30/week (automated)
Marketing: First campaigns live
Sales: Handling volume easily
```

### Month 3 (Ramp Up)
```
Leads: 50-100/week (full marketing)
Quotes: 40-60/week (qualified subset)
Marketing: Scaling campaigns
Sales: Processing efficiently
```

### Month 4-6 (Scale)
```
Leads: 100-200/week (SEO + ads + content)
Quotes: 60-80/week (filtered & qualified)
Marketing: Full engine running
Sales: Sustainable at scale
```

**Key Metric:** Lead â†’ Quote conversion time
- Target: <24 hours from lead to quote
- Automation makes this possible at scale

---

## ğŸ’° BUSINESS IMPACT

### Without Split + Automation
```
Marketing generates: 100 leads/week
CEO can handle: 15 leads/week
Result: 85% of leads ignored âŒ
Lost opportunity: Huge
```

### With Split + Automation
```
Marketing generates: 100 leads/week
AI qualifies: 35 qualified leads/week
CEO handles: 35 qualified leads/week âœ…
Close rate: 25% = 8-9 wins/week
Monthly revenue: ~$1.4M (at $40K avg)
```

**ROI Calculation:**
- Development cost: 3 weeks Ã— 2 developers = ~$30K
- Monthly revenue increase: ~$1M+ (from handling more volume)
- **Payback:** Immediate

---

## ğŸš¦ GO/NO-GO DECISION POINTS

### Week 3 Checkpoint: Ready for Marketing?

**Green Light Criteria:**
- âœ… Sales automation handles 50 leads/week smoothly
- âœ… Quote time: <10 min average
- âœ… Margin protection working (no accidental low quotes)
- âœ… Marketing app generating test leads successfully
- âœ… Attribution tracking works

**If YES:** Ramp marketing to 25 leads/week

**If NO:** Fix bottlenecks, delay marketing 1-2 weeks

### Month 2 Checkpoint: Scale Marketing?

**Green Light Criteria:**
- âœ… Handling 25-30 leads/week without stress
- âœ… Close rate maintaining (no quality drop)
- âœ… CEO satisfaction with automation
- âœ… No major bugs in workflow

**If YES:** Scale marketing to 50-75 leads/week

**If NO:** Optimize automation, hold at 25/week

---

## ğŸ”§ TECH STACK RECOMMENDATIONS

### Core App (Sales/Production)
```
Current stack: React + Express + PostgreSQL âœ…
Keep as-is, add:
- OpenAI API (for automation)
- Webhook infrastructure
- Job queue (Bull/BullMQ for background processing)
```

### Marketing App
```
Recommended: Next.js + PostgreSQL
Why:
- SEO-optimized (critical for marketing)
- Fast page loads (conversions)
- Easy content management
- Vercel deployment (scalable)

Alternative: Keep same stack (React + Express)
Why:
- Team familiarity
- Shared components
- Easier maintenance
```

**My recommendation:** Next.js for marketing (built for SEO/content)

---

## ğŸ¯ SUCCESS METRICS

Track these weekly:

### Sales Automation Metrics
- Leads received (total)
- Leads qualified (AI filtered)
- Quotes generated
- Time to quote (avg)
- Proposal send rate
- Signature rate
- Close rate
- Revenue per lead

### Marketing Metrics
- Website traffic
- Form submissions
- Lead quality score
- Cost per lead
- Lead â†’ Deal conversion
- ROI by channel
- Attribution accuracy

### Bottleneck Detection
- Lead queue backlog (should be <5)
- Avg time in queue (should be <24 hours)
- CEO quote capacity used (should be <80%)
- System errors (should be <1%)

---

## ğŸš€ WHAT TO BUILD FIRST

**Week 1 Priority Order:**

### Days 1-2: Foundation
1. âœ… Split marketing to separate repo/app
2. âœ… Set up API integration layer (webhooks)
3. âœ… Create lead capture API in Core

### Days 3-4: AI Layer
4. âœ… Build AI lead qualification
5. âœ… Build RFP analyzer

### Day 5: Test
6. âœ… End-to-end test: Marketing form â†’ Core lead â†’ Quote
7. âœ… Verify automation speeds

**Week 2:** Quote automation (AI suggestions, proposal generation)
**Week 3:** Follow-up automation + polish

---

## ğŸ’¡ FINAL RECOMMENDATION

**Do BOTH in parallel:**

1. **Extract Marketing App** (Week 1) â† Start NOW
   - Separate Next.js app
   - Marketing can build while you focus on sales
   - Ready to scale when you are

2. **Build Sales Automation** (Week 1-3) â† Also start NOW
   - Handle high volume
   - AI qualification + suggestions
   - CEO can process 10x more leads

**Why both?** Marketing will ramp FAST. You need to be ready. Building them separately means:
- Marketing can iterate on campaigns without touching sales
- Sales automation can handle the flood
- No bottlenecks when marketing scales

**Timeline:** 3 weeks to marketing-ready, then ramp gradually.

---

Ready to build? ğŸš€
